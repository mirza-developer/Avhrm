@page "/vacreq"
@page "/vacreq/index"
@using Microsoft.AspNetCore.Components.Web.Virtualization

<div class="page-header text-align-center">
    @TextResources.APP_StringKeys_VacReq_Index
</div>
<div class="pages-vacreq-index text-align-center">
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>
                    @TextResources.APP_StringKeys_SaveDate
                </th>
                <th>
                    @TextResources.APP_StringKeys_VacReq_IsVerified
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @if (VacationRequests is not null)
            {
                <Virtualize Items="VacationRequests" ItemSize="10" OverscanCount="10">
                    <tr>
                        <td>
                            @PersianCalendarTools.GregorianToPersian(context.CreateDateTime)
                        </td>
                        <td>
                            @(context.Verifier is null ? TextResources.APP_StringKeys_NotSpecified : (context.IsVerified ? TextResources.APP_StringKeys_VacReq_Verified : TextResources.APP_StringKeys_VacReq_NotVerified))
                        </td>
                        <td>
                            @if (!context.IsVerified)
                            {
                                <NavLink href="@($"/vacreq/edit/{context.Id}")"
                                         Match="NavLinkMatch.All"
                                         class="btn btn-secondary">
                                    <MaterialIcon IconName="@MaterialIconsHelper.Edit"></MaterialIcon>
                                </NavLink>
                            }
                        </td>
                    </tr>
                </Virtualize>
            }
        </tbody>
    </table>
</div>
<div class="page-footer text-align-center">
    <NavLink href="/vacreq/add"
             Match="NavLinkMatch.All"
             class="btn btn-success">
        <MaterialIcon IconName="@MaterialIconsHelper.Add"></MaterialIcon>
    </NavLink>
    <NavLink href="/"
             Match="NavLinkMatch.All"
             class="btn btn-success">
        <MaterialIcon IconName="@MaterialIconsHelper.Arrow_back_ios_new"></MaterialIcon>
    </NavLink>
</div>